CREATE DATABASE hrms;

USE hrms;

CREATE TABLE employees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    emp_id VARCHAR(50) NOT NULL,
    mach_id VARCHAR(50),
    branch VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    middle_name VARCHAR(50),
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    join_date DATE NOT NULL,
    designation VARCHAR(50),
    office_phone VARCHAR(20),
    office_email VARCHAR(100),
    exit_date DATE DEFAULT NULL,
    login_access TINYINT(1) DEFAULT 0,
    photo VARCHAR(255) DEFAULT 'resources/userimg/default-image.jpg'
);


CREATE TABLE attendance_logs (
    no INT PRIMARY KEY,  -- Unique identifier from file
    en_no BIGINT NOT NULL,  -- Employee number
    date DATE NOT NULL,  -- Date of attendance
    time TIME NOT NULL,  -- Time of attendance
    method TINYINT(1) DEFAULT 0,  -- 0 = Uploaded, 1 = Manual
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  -- Record creation time
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP  -- Last update time
);
